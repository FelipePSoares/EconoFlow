<div class="budget-line-container" role="img" [attr.aria-label]="getAriaLabel()">
  <div class="chart-wrapper">
    <canvas baseChart
      [data]="lineChartData"
      [options]="lineChartOptions"
      type="line">
    </canvas>
  </div>

  <!-- Budget status indicator -->
  <div class="budget-status" *ngIf="lineChartData.datasets[0].data.length > 0">
    <div class="status-item">
      <span class="label">Current Spending:</span>
      <span class="value" [class.over-budget]="(lineChartData.datasets[0].data[lineChartData.datasets[0].data.length - 1] || 0) > budget">
        {{ currencySymbol }}{{ (lineChartData.datasets[0].data[lineChartData.datasets[0].data.length - 1] || 0) | number:'1.2-2' }}
      </span>
    </div>
    <div class="status-item">
      <span class="label">Budget:</span>
      <span class="value">{{ currencySymbol }}{{ budget | number:'1.2-2' }}</span>
    </div>
    <div class="status-item">
      <span class="label">Status:</span>
      <span class="value" [class.over-budget]="(lineChartData.datasets[0].data[lineChartData.datasets[0].data.length - 1] || 0) > budget">
        {{ (lineChartData.datasets[0].data[lineChartData.datasets[0].data.length - 1] || 0) > budget ? 'Over Budget' : 'Within Budget' }}
      </span>
    </div>
  </div>
</div>
